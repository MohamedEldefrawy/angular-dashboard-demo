<div class="mt-3">
  <div class="row justify-content-center align-items-baseline">
    <div class="col-lg-6 col-md-6 col-sm-12">
      <span class="text-muted">Schedule Visits</span>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-12 text-end">
      <button class="btn align-self-end text-muted">
        <div class="d-flex justify-content-center align-items-center">
          <mat-icon class="icon-schedule-options">add_circle</mat-icon>
          <span>Add Slots</span>
        </div>
      </button>
      <button class="btn align-self-end text-muted">
        <div class="d-flex justify-content-center align-items-center">
          <mat-icon class="icon-schedule-options">edit</mat-icon>
          Edit Schedule
        </div>
      </button>
    </div>
  </div>
  <div class="row">
    <div class="service-options col-lg-3 col-md-3 col-sm-12">
      <mat-form-field appearance="fill">
        <mat-label class="service-select p-3">Service Type</mat-label>
        <mat-select (selectionChange)="typeFilter($event)">
          <mat-option *ngFor="let serviceType of servicesType" [value]="serviceType.name">
            {{serviceType.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</div>

<div class="row">
  <div class="cols-lg-5 col-md-5 col-sm-12">
      <span class="d-inline-block session-text">Session Time<span
        class="text-muted">: {{this.timeSlots.slotDuration}}</span></span>
    <span class="d-inline-block text-muted mx-4">|</span>
    <span class="d-inline-block session-text">Between Sessions<span
      class="text-muted">: {{this.timeSlots.breakTime}}</span></span>
  </div>
</div>

<div class="row justify-content-center align-items-center schedule-container">
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day d-flex flex-column justify-content-center align-items-center"
         [class.off]="filtered_days.sunday.length === 0">
      Sunday
    </div>

    <div *ngIf="filtered_days.sunday.length === 0;else slots">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #slots>
      <div *ngFor="let timeSlot of filtered_days.sunday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[1]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.monday.length === 0">
      Monday
    </div>
    <div *ngIf="filtered_days.monday.length === 0;else monday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #monday>
      <div *ngFor="let timeSlot of filtered_days.monday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[2]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.tuesday.length === 0">
      Tuesday
    </div>
    <div *ngIf="filtered_days.tuesday.length === 0;else tuesday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #tuesday>
      <div *ngFor="let timeSlot of filtered_days.tuesday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[3]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day off d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.wednesday.length === 0">
      Wednesday
    </div>

    <div *ngIf="filtered_days.wednesday.length === 0;else wednesday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #wednesday>
      <div *ngFor="let timeSlot of filtered_days.wednesday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[4]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.thursday.length === 0">
      Thursday
    </div>
    <div *ngIf="filtered_days.thursday.length === 0;else thursday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #thursday>
      <div *ngFor="let timeSlot of filtered_days.thursday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[5]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto ">
    <div class="mat-elevation-z3 day off d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.friday.length === 0">
      Friday
    </div>
    <div *ngIf="filtered_days.friday.length === 0;else friday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #friday>
      <div *ngFor="let timeSlot of filtered_days.friday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[6]">
        --:--
      </div>
    </ng-template>
  </div>
  <div class="col-lg-1 col-md-1 col-sm-12 d-flex flex-column justify-content-center align-items-center m-auto">
    <div class="mat-elevation-z3 day  d-flex flex-column justify-content-center align-items-center "
         [class.off]="filtered_days.saturday.length === 0">
      Saturday
    </div>
    <div *ngIf="filtered_days.saturday.length === 0;else saturday">
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let i of [1,2,3,4,5,6,7]">--:--
      </div>
    </div>

    <ng-template #saturday>
      <div *ngFor="let timeSlot of filtered_days.saturday; let i = index" style="margin-bottom: 0.5em"
           class="col-lg-1 col-md-1 col-sm-12  time-box">
        {{toDate(timeSlot)|date:'shortTime'}}
      </div>
      <div class="col-lg-1 col-md-1 col-sm-12  time-box" style="margin-bottom: 0.5em"
           *ngFor="let timeSlot of daysSlotsRemaining[0]">
        --:--
      </div>
    </ng-template>
  </div>
</div>
